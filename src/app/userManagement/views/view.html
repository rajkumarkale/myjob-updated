<div ng-controller="userManagementViewController" cg-busy="{promise:myPromise}">
    <toaster-container toaster-options="{'time-out': 3000, 'close-button':true}"></toaster-container>
    <div class="bg-light lter b-b wrapper-md">
        <span class="m-n font-thin h3 font-bold">User Management</span>
   <!--     <div class="btn-group m-r pull-right">
            <button class="btn btn-primary " ui-sref="app.userManagement.create">Create User</button>
            <label class="btn btn-primary" ng-model="layoutModel" btn-radio="'thumbnail'" uncheckable>
                <i class="glyphicon glyphicon-th-large"></i>
            </label>
            <label class="btn btn-primary" ng-model="layoutModel" btn-radio="'list'" uncheckable>
                <i class="glyphicon glyphicon-th-list"></i>
            </label>
        </div>-->
    </div>
        <div class="panel panel-default">
          <!--  <div class="panel-heading font-bold">List of Users</div>-->
            <div class="row wrapper">
                <div class="col-sm-6 text-center">
                        <ui-select data-ng-model="selected.users"

                                   data-ng-change="select(selected.users)"
                                   theme="bootstrap"
                                   on-select="selectUser($item,$model)"
                                   reset-search-input="true"
                                   style="width: 100%;"   required >
                           <ui-select-match placeholder="Search user"   allow-clear="false">{{$item.name || 'Search user'}}
                            </ui-select-match>
                            <ui-select-choices repeat="user in usersList track by $index"
                                               refresh="typeAheadUser($select.search) | filter:$select.search"
                                               refresh-delay="300">
                              <div><img src="{{user.profile_picture || 'images/a0.jpg'}}" class="img-circle thumb-sm"> &nbsp; &nbsp;<span ng-bind-html="user.name | highlight: $select.search" style="font-size: 20px"></span> <span ng-if="user.email_id">(</span><span ng-bind-html="user.email_id" class="text-muted"></span><span ng-if="user.email_id">)</span><div class="pull-right" ng-if="user.fb_id"><img src="images/facebook.png" class="img-circle thumb-sm"></div><div class="pull-right" ng-if="user.email_id"><img src="images/at9.png" class="img-circle thumb-sm"></div><div class="pull-right" ng-if="user.gplus_id"><img src="images/google-plus.png" class="img-circle thumb-sm"></div></div>
                            </ui-select-choices>

                        </ui-select>
                </div>

              <!--  <div class="col-sm-4 text-center" >&lt;!&ndash;ng-if="currentPageUsers.length > 0"&ndash;&gt;
                    <pagination class="pagination-sm m-b-none m-t-none" data-ng-model="currentPage" total-items="filteredUsers.length" max-size="4" data-ng-change="select(currentPage)" items-per-page="numPerPage" rotate="false" boundary-links="true"></pagination>
                </div>-->
                <!--<div class="col-sm-4">
                    <button type="button" class="btn pull-right btn-success btn-addon" data-ng-click="addUserView()"><i
                            class="fa fa-plus"></i>User
                    </button>
                </div>-->
            </div>
            <div>
                <toaster-container toaster-options="{'time-out': 5000, 'close-button':true}"></toaster-container>
               <!-- <table class="table table-striped table-responsive b-t b-light" >&lt;!&ndash;ng-if="currentPageUsers.length > 0"&ndash;&gt;
                    <thead>
                    <tr>
                        <th width="21%">User Name</th>
                        <th width="28%">Email-Id</th>
                        <th width="27%">Role</th>
                        <th width="15%">&nbsp;</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr data-ng-repeat="wd in currentPageUsers track by wd.id | filter: searchKey">
                        <td data-ng-bind="wd.name"></td>
                        <td data-ng-bind="wd.email_id"></td>
                        <td class="hidden-xs" data-ng-bind="wd.status"></td>
                        <td>
                             &nbsp;
                            <a class="btn btn-sm btn-default" data-ng-click="editUser(wd)" title="Edit"><i class="glyphicon glyphicon-edit"></i></a>
                            <a class="btn btn-sm btn-default" data-ng-click="deleteUser(wd)" title="Delete"><i class="glyphicon glyphicon-th-remove"></i></a>
                        </td>
                    </tr>
                    </tbody>
                </table>-->
            </div>


            <form action="#" class="form-horizontal" ng-if="userInfo.name">
   <!--             <div class="form-group">
                    <label class="col-md-3 control-label">Profile Pic</label>

                    <div class="col-md-7">
                        <div class="fileinput fileinput-new" data-provides="fileinput">
                            <div class="fileinput-preview thumbnail" data-trigger="fileinput">
                                <img ng-src="/{{userInfo.image}}" alt="{{userInfo.name}}" title="{{userInfo.name}}" id="imageshow" class="avatar img-circle">
                            </div>

                        </div>
                    </div>
                </div>-->

                <div>
                <div class="form-group" >
                  <div class="col-md-3 pull-left">
                    <div class="pull-right" ng-if="userInfo.fb_id">
                      <img src="images/facebook.png" class="img-circle thumb-sm">
                    </div>
                    <div class="pull-right" ng-if="userInfo.email_id">
                      <img src="images/at9.png" class="img-circle thumb-sm"> {{userInfo.email_id}}
                    </div>
                    <div class="pull-right" ng-if="userInfo.gplus_id">
                      <img src="images/google-plus.png" class="img-circle thumb-sm">
                    </div>
                  </div>
                    <label class="col-md-1 control-label">Name</label>

                    <div class="col-md-5">
                        <input type="text" name="Name" ng-model="userInfo.name"
                               class="form-control"/>
                    </div>
                </div>
               <!-- <div class="form-group">
                    <label class="col-md-3 control-label">Email</label>

                    <div class="col-md-7">
                        <input type="text" ng-model="userInfo.email"
                               class="form-control" disabled=
                                       "disabled"/>
                    </div>
                </div>-->
                <div class="form-group">
                    <label class="col-md-1 col-md-offset-3 control-label">Role<span class="text-danger"></span></label>
                    <div class="col-sm-5">
                        <ui-select multiple ng-model="userInfo.roles" on-select="selectRole($item,$model)" on-remove ="unSelectRole($item,$model)" theme="bootstrap">
                            <ui-select-match placeholder="Select Roles">{{$item.name}}</ui-select-match>
                            <ui-select-choices repeat="role in rolesList | propsFilter: {name: $select.search}">
                                <div ng-bind-html="role.name | highlight: $select.search"></div>
                            </ui-select-choices>
                        </ui-select>


                    </div>
                </div>

                <!--<div class="form-group">
                    <label class="col-md-3 control-label">Role</label>

                    <div class="col-md-7">{{userInfo.roles | json }}
                        <select ng-model="userInfo.roles"  multiple class="form-control"  ng-options="role.name for role in rolesList track by role.name">
                        </select>
                    </div>
                </div>-->


            <!--    <div class="modal fade" id="askMobile" tabindex="-1" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header modal-header-danger">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <h4 class="modal-title">Error!</h4>
                            </div>

                            <div class="modal-body">
                                <div class="text-center">
                                    <div class="i-circle"><i class="fa fa-times text-danger"></i></div>
                                    <h4>Oh god!</h4>

                                    <p>{{errorMsg}}</p>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="opneModal()">Ok</button>
                            </div>
-->
           <!-- <footer class="panel-footer">
                <div class="row">
                    <div class="col-sm-4 m-b-xs">
                        <div class="input-group" >&lt;!&ndash;ng-if="currentPageUsers.length >= 0"&ndash;&gt;
                            <input type="text" class="input-sm form-control" placeholder="Search Work Order" data-ng-model="search_Key" data-ng-keyup="search(search_Key)">
                        <span class="input-group-btn">
                            <button class="btn btn-sm btn-default" type="button">
                                <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </span>
                        </div>
                    </div>
                    <div class="col-sm-4 text-center" >&lt;!&ndash;ng-if="currentPageUsers.length > 0"&ndash;&gt;
                        <pagination class="pagination-sm m-b-none m-t-none" data-ng-model="currentPage" total-items="filteredWorkOrders.length" max-size="4" data-ng-change="select(currentPage)" items-per-page="numPerPage" rotate="false" boundary-links="true"></pagination>
                    </div>
                    <div class="col-sm-4">
                        <button type="button" class="btn pull-right btn-success btn-addon" data-ng-click="addUserView()"><i
                                class="fa fa-plus"></i>User
                        </button>
                    </div>
                </div>
            </footer>-->


</form>

        </div>

</div>
