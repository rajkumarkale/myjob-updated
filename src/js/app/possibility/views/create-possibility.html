

<div data-ng-if="!isNewPossibility" class="text-right m-t-sm m-r-xs">

  <button class="btn btn-primary contacts-button" data-ng-click="editForm();"> Edit</button>
  <button ui-sref="app.viewPossibility" class="btn btn-primary contacts-button "> Cancel</button>
</div>
<div class="container col-md-12 pad-t-20" data-ng-class ="disableForm()"  data-cg-busy="{promise:myPromise,message:'Retriving Possibilities'}">

  <div class="panel panel-primary second-panel">
    <div class="panel-heading">
      <span>{{title}}</span>
    </div>
    <div>
      <div class="panel-body" >
        <form name="createPossibilityForm" >

          <div class="row">
            <div class="col-md-12 ">
              <div class="col-md-6 form-custom-padding">

                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Legal Entity</label>
                  <input class="form-control" required data-ng-model="createPossibility.legal_name" type="text">
                </div>

                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Division Name</label>
                  <input class="form-control" required data-ng-model="createPossibility.division" type="text">
                </div>


                <div class="form-group" custom-select data="businessVertical"></div>
                <div class="form-group" custom-select data="employeeSize"></div>


                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Address Line 1</label>
                  <input class="form-control" required data-ng-model="createPossibility.address.address_line_1 "
                         type="text">

                </div>
                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">City</label>
                  <input class="form-control" required data-ng-model="createPossibility.address.city " type="text">

                </div>
                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Zipcode</label>
                  <input class="form-control" required data-ng-model="createPossibility.address.pin" type="text">

                </div>

              </div>


              <div class="col-md-6 form-custom-padding">
                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Business Unit</label>
                  <input class="form-control" required data-ng-model="createPossibility.unit_name" type="text">

                </div>
                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Website URL</label>
                  <input class="form-control" required data-ng-model="createPossibility.url" type="text">

                </div>
                <div class="form-group" custom-select data="groupTurnover">

                </div>
                <div class="form-group" custom-select data="customerType">

                </div>
                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Address Line 2</label>
                  <input class="form-control"  data-ng-model="createPossibility.address.address_line_2" type="text">
                </div>
                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">State</label>
                  <input class="form-control" required data-ng-model="createPossibility.address.state" type="text">

                </div>
                <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                  <label class="control-label">Country</label>
                  <input class="form-control" required data-ng-model="createPossibility.address.country" type="text">

                </div><br>
                <div data-ng-if="!isNewPossibility" class="form-group" custom-select data="status">

                </div>
                <div class="form-group1 pull-right ">
                  <input type="checkbox" class="check">
                  <label class=" first-class2 " >Freeze</label>
                </div>

              </div>
            </div>

            <div class="row">
              <div class="col-md-10 col-md-offset-1">
                <div ngf-drop ngf-select ng-model="files" class="drop-box"
                     ngf-drag-over-class="'dragover'" ngf-multiple="true" ngf-allow-dir="true"
                     accept="image/*,application/pdf"
                     ngf-pattern="'image/*,application/pdf'">Drop pdfs or images here or click to upload</div>
                <div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>


                Files:
                <ul>
                  <li ng-repeat="f in createPossibility.documents" style="font:smaller">{{f.name?f.name:f.type}} {{f.$error}} {{f.$errorParam}}
                    <img ng-src="f.url" class="thumb"></li>
                </ul>
                <ul>
                  <li ng-repeat="f in uploadFiles" style="font:smaller">{{f.name?f.name:f.type}} {{f.$error}} {{f.$errorParam}}
                    <img ngf-thumbnail="f" class="thumb"></li>
                </ul>
              </div>
            </div>
            <div ng-repeat="poc in point_of_contacts" class="row col-md-12">
              <accordion>
                <accordion-group is-open="poc.isOpen" >
                  <accordion-heading>
            <span  class="color-black">
            {{$index+1}}) Business Contact
            <i class="pull-right glyphicon"
               ng-class="{'glyphicon glyphicon-minus': poc.isOpen, 'glyphicon glyphicon-plus': !poc.isOpen}"></i>
          </span></accordion-heading>
                  <div class="col-md-6 form-custom-padding">
                    <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                      <label class="control-label">Contact Person</label>
                      <input class="form-control" required data-ng-model="poc.name" type="text">

                    </div>

                    <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                      <label class="control-label">Contact Person Designation</label>
                      <input data-ng-model="poc.designation" required class="form-control" type="text">

                    </div>

                    <div class="form-group">
                      <label class="contacts">Contacts Provides</label>
                      <input type="checkbox" ng-model="poc.remote" class="check">
                      <label class="remote">Remote</label>
                      <input type="checkbox" ng-model="poc.local" class="check">
                      <label class="location">Location</label>
                    </div>
                    <div >
                      <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                        <label class="control-label">Remote Location</label>
                        <input required data-ng-model="poc.support_location" class="form-control" type="text">

                      </div>
                    </div>

                  </div>
                  <div class="col-md-6 form-custom-padding">
                    <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                      <label class="control-label">Contact Person Phone Number</label>
                      <input class="form-control" numbers-only data-ng-model="poc.phone" required  type="text">

                    </div>


                    <div class="form-group label-floating " data-ng-class ="{'is-empty':isNewPossibility}">
                      <label class="control-label">Email Id</label>
                      <input required data-ng-model="poc.email_id" class="form-control" type="text">
                    </div>
                    <div ng-if="$first" >
                      <div class="form-group label-floating " >
                        <label class="control-label">Contact Type</label>
                        <input class="form-control"  data-ng-model="poc.contact_type" required  type="text">

                      </div>
                    </div>
                    <div ng-if="!$first" class=" form-group ">

                      <div class="form-group" custom-select data="poc.contact_type">

                      </div>
                    </div>


                  </div>

                  <div>


                  </div>
                </accordion-group>
              </accordion>
            </div>
            <div >
              <button type="button" class="btn btn-primary contacts-button " data-ng-if="isNewPossibility" data-ng-click="getNewPointofContact()"><i class="fa fa-plus"></i> Contacts</button>
            </div>

            <div class="col-md-6 form-custom-padding">
            </div>
            <div class="col-md-12" data-ng-if="isEditable || isNewPossibility ">
              <div class="form-group text-center">
                <button ui-sref="app.viewPossibility" class="btn btn-primary data-button-cancel  ">Cancel</button>
                <button class="btn btn-primary data-button-sub" data-ng-disabled="!isValid(createPossibilityForm.$valid)" data-ng-click="save(createPossibility)" disabled="disabled">{{isNewPossibility?'Submit':'Update'}}</button>
              </div>
            </div>

          </div>

        </form>
      </div>
    </div>
  </div>
</div>
